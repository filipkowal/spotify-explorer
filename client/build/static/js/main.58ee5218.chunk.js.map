{"version":3,"sources":["services/authService.js","services/userService.js","components/User.js","assets/icons.js","services/trackService.js","components/LikeButton.js","components/Playlist.js","components/Seeds.js","components/Modal.js","components/ToResults.js","components/Playlists.js","services/playlistService.js","App.js","reportWebVitals.js","index.js"],"names":["serverUrl","getDataQue","getData","url","a","includes","push","options","headers","Authorization","localStorage","getItem","json","fetch","then","response","ok","status","error","refresh","refreshResult","pop","data","catch","console","getTokens","setItem","access_token","result","queryString","window","location","search","urlParams","URLSearchParams","tokens","refresh_token","get","prevAccessToken","prevRefreshToken","href","logout","clear","User","setLoadedData","useState","user","setUser","useEffect","prevState","r","className","display_name","onClick","info","viewBox","fill","xmlns","width","height","d","arrowDown","stroke","heart","heartSolid","id","token","isLiked","LikeButton","liked","setLiked","checkLikedTrack","method","dislikeTrack","likeTrack","Playlist","playlist","toggleTracks","pinPlaylist","isChecked","tracks","map","track","name","type","checked","onChange","e","for","artists","Seeds","seedTracks","circles","setCircles","newCircles","i","length","c","Modal","text","toggle","showModal","setShowModal","initialLoad","setInitialLoad","log","setTimeout","ToResults","scrollTo","document","body","scrollHeight","Playlists","likedTracks","setLikedTracks","recommendedTracks","setRecommendedTracks","setSeedtracks","pinnedPlaylists","setPinnedPlaylists","toggleOutOfSeeds","setDisplayOutOfSeeds","showToResults","setShowToResults","items","seeds","reduce","p","uniqueId","allPlaylists","setAllPlaylists","target","prev","some","filter","pinnedTracks","recommended","seed","pinned","playlists","App","loadedData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.58ee5218.chunk.js","sourcesContent":["const serverUrl =\r\n  process.env.NODE_ENV === 'development'\r\n    ? 'http://localhost:8888'\r\n    : process.env.REACT_APP_HEROKU\r\n    ? 'http://localhost:5000'\r\n    : 'https://spotify-moodboard.herokuapp.com';\r\nconst getDataQue = [];\r\n\r\ngetTokens();\r\n\r\nasync function getData(url) {\r\n  if (getDataQue.includes(url)) return;\r\n  getDataQue.push(url);\r\n\r\n  const options = {\r\n    headers: { Authorization: 'Bearer ' + localStorage.getItem('accessToken') },\r\n    json: true,\r\n  };\r\n\r\n  return fetch(url, options)\r\n    .then(async function (response) {\r\n      if (!response.ok) {\r\n        if (response.status === 401 || response.error?.status === 401) {\r\n          const refreshResult = await refresh();\r\n          if (!refreshResult.ok) throw refreshResult;\r\n          getDataQue.pop();\r\n          return getData(url);\r\n        }\r\n        throw response;\r\n      }\r\n      getDataQue.pop();\r\n      return response.json();\r\n    })\r\n    .then(data => {\r\n      return data;\r\n    })\r\n    .catch(error => {\r\n      console.error('Catched Error:', error);\r\n      return error;\r\n    });\r\n}\r\n\r\nasync function refresh() {\r\n  getTokens();\r\n  const result = await fetch(\r\n    `${serverUrl}/refresh_token?refresh_token=` +\r\n      localStorage.getItem('refreshToken')\r\n  )\r\n    .then(response => {\r\n      if (!response.ok) {\r\n        throw response;\r\n      }\r\n      return response.json();\r\n    })\r\n    .then(data => {\r\n      localStorage.setItem('accessToken', data.access_token);\r\n      return data.access_token;\r\n    })\r\n    .catch(error => {\r\n      return error;\r\n    });\r\n\r\n  return result;\r\n}\r\n\r\nfunction getTokens() {\r\n  const queryString = window.location.search;\r\n  const urlParams = new URLSearchParams(queryString);\r\n  const tokens = {\r\n    refresh_token: urlParams.get('refresh_token'),\r\n    access_token: urlParams.get('access_token'),\r\n  };\r\n  const prevAccessToken = localStorage.getItem('accessToken');\r\n  const prevRefreshToken = localStorage.getItem('refreshToken');\r\n\r\n  if (\r\n    (tokens.refresh_token === '' || !tokens.refresh_token) &&\r\n    (prevRefreshToken === '' ||\r\n      !prevRefreshToken ||\r\n      prevRefreshToken === 'null')\r\n  ) {\r\n    window.location.href = `${serverUrl}/authorization`;\r\n    return;\r\n  }\r\n\r\n  localStorage.setItem('accessToken', tokens.access_token || prevAccessToken);\r\n  localStorage.setItem(\r\n    'refreshToken',\r\n    tokens.refresh_token || prevRefreshToken\r\n  );\r\n}\r\n\r\nexport { getData, serverUrl };\r\n","import { getData, serverUrl } from './authService';\r\n\r\nfunction getUser() {\r\n  return getData('https://api.spotify.com/v1/me');\r\n}\r\n\r\nasync function logout() {\r\n  await localStorage.clear();\r\n  window.location.href = `${serverUrl}/login?logout=true`;\r\n}\r\n\r\nexport { getUser, logout };\r\n","import { useEffect, useState } from 'react';\r\n\r\nimport { getUser, logout } from '../services/userService';\r\n\r\nfunction User({ setLoadedData }) {\r\n  const [user, setUser] = useState({});\r\n\r\n  useEffect(() => {\r\n    setLoadedData(prevState => [...prevState, { user: false }]);\r\n    getUser()\r\n      .then(r => setUser(r) || {})\r\n      .then(() => setLoadedData(prevState => [...prevState, { user: true }]));\r\n  }, []);\r\n\r\n  return (\r\n    <p className=\"user secondary\">\r\n      <span className=\"username\">{user.display_name}</span>{' '}\r\n      <button onClick={logout}>Logout</button>\r\n    </p>\r\n  );\r\n}\r\nexport default User;\r\n","export const mongodb = (\r\n  <svg\r\n    viewBox=\"0 0 15 15\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"15\"\r\n    height=\"15\"\r\n  >\r\n    <path\r\n      d=\"M7.5.5l.369-.338a.5.5 0 00-.738 0L7.5.5zm0 13l-.393.309a.5.5 0 00.786 0L7.5 13.5zM4.623 9.838l-.393.31.393-.31zm.246-6.467L4.5 3.032l.369.337zm5.262 0l.369-.338-.369.337zm.246 6.467l.393.31-.393-.31zM8 15V.5H7V15h1zm-.107-1.809L5.016 9.53l-.786.618 2.877 3.662.786-.618zM5.237 3.708L7.87.838 7.13.162 4.5 3.032l.736.676zM7.131.838l2.632 2.87.737-.675L7.869.163 7.13.837zm2.853 8.691l-2.877 3.662.786.618 2.877-3.662-.786-.618zm-.221-5.82a4.5 4.5 0 01.22 5.82l.787.618a5.5 5.5 0 00-.27-7.114l-.737.675zm-4.747 5.82a4.5 4.5 0 01.221-5.82L4.5 3.032a5.5 5.5 0 00-.27 7.114l.786-.618z\"\r\n      fill=\"currentColor\"\r\n    ></path>\r\n  </svg>\r\n);\r\nexport const circle = (\r\n  <svg\r\n    viewBox=\"0 0 15 15\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"15\"\r\n    height=\"15\"\r\n  >\r\n    <path d=\"M.5 7.5a7 7 0 1014 0 7 7 0 00-14 0z\" stroke=\"currentColor\"></path>\r\n  </svg>\r\n);\r\nexport const circleSolid = (\r\n  <svg\r\n    viewBox=\"0 0 15 15\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"15\"\r\n    height=\"15\"\r\n  >\r\n    <path\r\n      d=\"M7.5 0a7.5 7.5 0 100 15 7.5 7.5 0 000-15z\"\r\n      fill=\"currentColor\"\r\n    ></path>\r\n  </svg>\r\n);\r\nexport const pin = (\r\n  <svg\r\n    viewBox=\"0 0 15 15\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"15\"\r\n    height=\"15\"\r\n  >\r\n    <path\r\n      d=\"M7.5 15V8.5m0 0a4 4 0 100-8 4 4 0 000 8z\"\r\n      stroke=\"currentColor\"\r\n    ></path>\r\n  </svg>\r\n);\r\nexport const pinSolid = (\r\n  <svg\r\n    viewBox=\"0 0 15 15\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"15\"\r\n    height=\"15\"\r\n  >\r\n    <path\r\n      d=\"M7.5 0A4.5 4.5 0 007 8.973V15h1V8.973A4.5 4.5 0 007.5 0z\"\r\n      fill=\"currentColor\"\r\n    ></path>\r\n  </svg>\r\n);\r\nexport const xSmall = (\r\n  <svg\r\n    viewBox=\"0 0 15 15\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"15\"\r\n    height=\"15\"\r\n  >\r\n    <path d=\"M4.5 4.5l6 6m-6 0l6-6\" stroke=\"currentColor\"></path>\r\n  </svg>\r\n);\r\nexport const xLarge = (\r\n  <svg\r\n    viewBox=\"0 0 15 15\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"15\"\r\n    height=\"15\"\r\n  >\r\n    <path d=\"M1.5 1.5l12 12m-12 0l12-12\" stroke=\"currentColor\"></path>\r\n  </svg>\r\n);\r\nexport const info = (\r\n  <svg\r\n    viewBox=\"0 0 15 15\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"15\"\r\n    height=\"15\"\r\n  >\r\n    <path\r\n      d=\"M7 4.5V5h1v-.5H7zm1-.01v-.5H7v.5h1zM8 11V7H7v4h1zm0-6.5v-.01H7v.01h1zM6 8h1.5V7H6v1zm0 3h3v-1H6v1zM7.5 1A6.5 6.5 0 0114 7.5h1A7.5 7.5 0 007.5 0v1zM1 7.5A6.5 6.5 0 017.5 1V0A7.5 7.5 0 000 7.5h1zM7.5 14A6.5 6.5 0 011 7.5H0A7.5 7.5 0 007.5 15v-1zm0 1A7.5 7.5 0 0015 7.5h-1A6.5 6.5 0 017.5 14v1z\"\r\n      fill=\"currentColor\"\r\n    ></path>\r\n  </svg>\r\n);\r\nexport const arrowDown = (\r\n  <svg\r\n    viewBox=\"0 0 15 15\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"15\"\r\n    height=\"15\"\r\n  >\r\n    <path d=\"M7.5 13.5l4-4m-4 4l-4-4m4 4V1\" stroke=\"currentColor\"></path>\r\n  </svg>\r\n);\r\nexport const heart = (\r\n  <svg\r\n    viewBox=\"0 0 15 15\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"15\"\r\n    height=\"15\"\r\n  >\r\n    <path\r\n      d=\"M7.5 13.5l-.354.354a.5.5 0 00.708 0L7.5 13.5zM1.536 7.536l-.354.353.354-.353zm5-5l-.354.353.354-.353zM7.5 3.5l-.354.354a.5.5 0 00.708 0L7.5 3.5zm.964-.964l-.353-.354.353.354zm-.61 10.61L1.889 7.182l-.707.707 5.964 5.965.708-.708zm5.257-5.964l-5.965 5.964.708.708 5.964-5.965-.707-.707zM6.182 2.889l.964.965.708-.708-.965-.964-.707.707zm1.672.965l.964-.965-.707-.707-.965.964.708.708zM10.964 1c-1.07 0-2.096.425-2.853 1.182l.707.707A3.037 3.037 0 0110.964 2V1zM14 5.036c0 .805-.32 1.577-.89 2.146l.708.707A4.036 4.036 0 0015 5.036h-1zm1 0A4.036 4.036 0 0010.964 1v1A3.036 3.036 0 0114 5.036h1zM4.036 2c.805 0 1.577.32 2.146.89l.707-.708A4.036 4.036 0 004.036 1v1zM1 5.036A3.036 3.036 0 014.036 2V1A4.036 4.036 0 000 5.036h1zm.89 2.146A3.035 3.035 0 011 5.036H0c0 1.07.425 2.096 1.182 2.853l.707-.707z\"\r\n      fill=\"currentColor\"\r\n    ></path>\r\n  </svg>\r\n);\r\nexport const heartSolid = (\r\n  <svg\r\n    viewBox=\"0 0 15 15\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"15\"\r\n    height=\"15\"\r\n  >\r\n    <path\r\n      d=\"M4.036 1a4.036 4.036 0 00-2.854 6.89l5.964 5.964a.5.5 0 00.708 0l5.964-5.965a4.036 4.036 0 00-5.707-5.707l-.611.61-.61-.61A4.036 4.036 0 004.035 1z\"\r\n      fill=\"currentColor\"\r\n    ></path>\r\n  </svg>\r\n);\r\n","function likeTrack(id) {\r\n  const token = localStorage.getItem('accessToken');\r\n  const url =\r\n    `https://api.spotify.com/v1/me/tracks?access_token=${token}&ids=` + id;\r\n  return fetch(url, {\r\n    method: 'PUT',\r\n  });\r\n}\r\nfunction dislikeTrack(id) {\r\n  const token = localStorage.getItem('accessToken');\r\n  const url =\r\n    `https://api.spotify.com/v1/me/tracks?access_token=${token}&ids=` + id;\r\n  return fetch(url, {\r\n    method: 'DELETE',\r\n  });\r\n}\r\nasync function checkLikedTrack(id) {\r\n  const token = localStorage.getItem('accessToken');\r\n  const url =\r\n    `https://api.spotify.com/v1/me/tracks/contains?access_token=${token}&ids=` +\r\n    id;\r\n  const isLiked = await fetch(url).then(r => r.json());\r\n  return isLiked;\r\n}\r\n\r\nexport { likeTrack, dislikeTrack, checkLikedTrack };\r\n","import { heart, heartSolid } from '../assets/icons';\r\nimport {\r\n  likeTrack,\r\n  dislikeTrack,\r\n  checkLikedTrack,\r\n} from '../services/trackService';\r\nimport { useState, useEffect } from 'react';\r\n\r\nfunction LikeButton({ id }) {\r\n  const [liked, setLiked] = useState(false);\r\n\r\n  useEffect(() => {\r\n    checkLikedTrack(id).then(r => setLiked(r[0]));\r\n  }, []);\r\n\r\n  function toggleLike() {\r\n    if (liked) {\r\n      dislikeTrack(id);\r\n      setLiked(false);\r\n    } else {\r\n      likeTrack(id);\r\n      setLiked(true);\r\n    }\r\n  }\r\n  return (\r\n    <span className=\"likeButton\" onClick={toggleLike}>\r\n      {'  '} {liked ? heartSolid : heart}\r\n    </span>\r\n  );\r\n}\r\n\r\nexport default LikeButton;\r\n","import LikeButton from './LikeButton';\r\n\r\nfunction Playlist({ playlist, toggleTracks, pinPlaylist, isChecked }) {\r\n  return (\r\n    <div key={playlist.id}>\r\n      {playlist.tracks ? (\r\n        <ul>\r\n          {playlist.tracks?.map(track => (\r\n            <li key={track.id} name={track.id}>\r\n              <input\r\n                id={track.id}\r\n                type=\"checkbox\"\r\n                checked={isChecked(track.id)}\r\n                name={track.id}\r\n                onChange={e => {\r\n                  toggleTracks(e);\r\n                  pinPlaylist(playlist);\r\n                }}\r\n              />\r\n              <label for={track.id}>\r\n                {track.artists[0].name} - {track.name}\r\n              </label>\r\n              <LikeButton id={track.id} />\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      ) : (\r\n        <p className=\"secondary\">The results will go here.</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default Playlist;\r\n","import { useState, useEffect } from 'react';\r\n\r\nfunction Seeds({ seedTracks }) {\r\n  const [circles, setCircles] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const newCircles = [];\r\n    for (let i = 0; i < 5; i++) {\r\n      if (i < seedTracks.length) {\r\n        newCircles.push('@');\r\n      } else {\r\n        newCircles.push('O');\r\n      }\r\n    }\r\n    setCircles(newCircles);\r\n  }, [seedTracks]);\r\n  return (\r\n    <p className=\"seeds\">\r\n      Seed tracks:{' '}\r\n      {circles.map((c, i) => (\r\n        <span className=\"circle\" key={i}>\r\n          {c}\r\n        </span>\r\n      ))}\r\n    </p>\r\n  );\r\n}\r\n\r\nexport default Seeds;\r\n","import { useState, useEffect } from 'react';\r\n\r\nimport { info } from '../assets/icons';\r\n\r\nfunction Modal({ text, toggle }) {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [initialLoad, setInitialLoad] = useState(true);\r\n  useEffect(() => {\r\n    if (!initialLoad) {\r\n      console.log('toggle Modal');\r\n      setShowModal(true);\r\n      setTimeout(() => setShowModal(false), 3000);\r\n    }\r\n    setInitialLoad(false);\r\n  }, [toggle]);\r\n  return (\r\n    <>\r\n      {showModal ? (\r\n        <div className=\"modal\">\r\n          <div className=\"container\">\r\n            <span className=\"info-icon\">{info}</span>\r\n            <span className=\"text\">{text}</span>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        ''\r\n      )}\r\n    </>\r\n  );\r\n}\r\nexport default Modal;\r\n","import { arrowDown } from '../assets/icons';\r\n\r\nfunction ToResults() {\r\n  function scrollToBottom() {\r\n    window.scrollTo(0, document.body.scrollHeight);\r\n  }\r\n  return (\r\n    <button className=\"to-results\" onClick={scrollToBottom}>\r\n      Results {arrowDown}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default ToResults;\r\n","import { useEffect, useState } from 'react';\r\nimport uniqueId from 'lodash.uniqueid';\r\nimport '../styles/Playlists.css';\r\n\r\nimport {\r\n  getLikedTracks,\r\n  getRecommendedTracks,\r\n} from '../services/playlistService';\r\nimport Playlist from './Playlist';\r\nimport Seeds from './Seeds';\r\nimport Modal from './Modal';\r\nimport ToResults from './ToResults';\r\n\r\nfunction Playlists({ setLoadedData }) {\r\n  const [likedTracks, setLikedTracks] = useState([]);\r\n  const [recommendedTracks, setRecommendedTracks] = useState([]);\r\n  const [seedTracks, setSeedtracks] = useState([]);\r\n  const [pinnedPlaylists, setPinnedPlaylists] = useState([]);\r\n  const [toggleOutOfSeeds, setDisplayOutOfSeeds] = useState(false);\r\n  const [showToResults, setShowToResults] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoadedData(prevState => [...prevState, { likedTracks: false }]);\r\n    getLikedTracks()\r\n      .then(r => setLikedTracks(r.items))\r\n      .then(() => {\r\n        setLoadedData(prevState => [...prevState, { likedTracks: true }]);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (seedTracks.length === 0) return;\r\n    getRecommendedTracks(seedTracks).then(r => {\r\n      const id = uniqueId();\r\n      setRecommendedTracks({ id: id, tracks: r.tracks } || []);\r\n    });\r\n  }, [seedTracks]);\r\n\r\n  const [allPlaylists, setAllPlaylists] = useState([]);\r\n  useEffect(() => {\r\n    const playlists = pinnedPlaylists.some(p => p.id === recommendedTracks.id)\r\n      ? pinnedPlaylists\r\n      : [...pinnedPlaylists, recommendedTracks];\r\n    setAllPlaylists(playlists);\r\n  }, [pinnedPlaylists, recommendedTracks]);\r\n\r\n  function toggleTracks(e) {\r\n    if (seedTracks.length >= 5 && e.target.checked) {\r\n      setDisplayOutOfSeeds(prev => !prev);\r\n      return;\r\n    }\r\n    if (seedTracks.some(track => track.id === e.target.name)) {\r\n      setSeedtracks(seedTracks.filter(track => track.id !== e.target.name));\r\n      return;\r\n    }\r\n    const pinnedTracks = pinnedPlaylists.reduce(\r\n      (p, c) => [...p, ...c.tracks],\r\n      []\r\n    );\r\n    const recommended = recommendedTracks.tracks\r\n      ? recommendedTracks.tracks.filter(track => track.id === e.target.name)\r\n      : [];\r\n    setSeedtracks([\r\n      ...seedTracks,\r\n      ...likedTracks\r\n        .filter(track => track.track.id === e.target.name)\r\n        .map(track => track.track),\r\n      ...pinnedTracks.filter(track => track.id === e.target.name),\r\n      ...recommended,\r\n    ]);\r\n    setShowToResults(e.target.name);\r\n  }\r\n\r\n  function isChecked(id) {\r\n    return seedTracks.some(seed => seed.id === id);\r\n  }\r\n\r\n  function pinPlaylist(playlist) {\r\n    if (pinnedPlaylists.some(pinned => pinned.id === playlist.id)) return;\r\n    setPinnedPlaylists([...pinnedPlaylists, playlist]);\r\n  }\r\n  function unPinPlaylist(id) {\r\n    setPinnedPlaylists(pinnedPlaylists.filter(pinned => pinned.id !== id));\r\n  }\r\n  function isPinned(id) {\r\n    return pinnedPlaylists.some(p => id === p.id);\r\n  }\r\n\r\n  return (\r\n    <div className=\"playlists\">\r\n      <h2>Liked tracks</h2>\r\n      <p className=\"info\">1. Select up to 5 tracks to get recommendations.</p>\r\n      <div className=\"playlist-container\">\r\n        <ul>\r\n          <Seeds seedTracks={seedTracks}></Seeds>\r\n          {likedTracks && likedTracks.length ? (\r\n            likedTracks.map(track => (\r\n              <li key={track.track.id}>\r\n                <input\r\n                  id={track.track.id}\r\n                  type=\"checkbox\"\r\n                  checked={isChecked(track.track.id)}\r\n                  name={track.track.id}\r\n                  onChange={e => {\r\n                    toggleTracks(e);\r\n                    setShowToResults(likedTracks.id);\r\n                  }}\r\n                />\r\n                <label for={track.track.id}>\r\n                  {track.track.artists[0].name} - {track.track.name}\r\n                </label>\r\n              </li>\r\n            ))\r\n          ) : (\r\n            <p className=\"secondary\">\r\n              Your liked tracks from Spotify will appear here.\r\n            </p>\r\n          )}\r\n        </ul>\r\n        {showToResults === likedTracks.id ? <ToResults /> : ''}\r\n      </div>\r\n      <h2>Recommended tracks</h2>\r\n      <p className=\"info\">\r\n        2. Select some tracks here to get more recommendations.\r\n      </p>\r\n      {allPlaylists.map(playlist => (\r\n        <div className=\"playlist-container\">\r\n          <Playlist\r\n            key={playlist.id}\r\n            playlist={playlist}\r\n            toggleTracks={e => {\r\n              toggleTracks(e);\r\n              setShowToResults(playlist.id);\r\n            }}\r\n            pinPlaylist={pinPlaylist}\r\n            isChecked={isChecked}\r\n          />\r\n          {showToResults === playlist.id ? <ToResults /> : ''}\r\n        </div>\r\n      ))}\r\n      <Modal toggle={toggleOutOfSeeds} text=\"You've ran out of seed tracks.\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Playlists;\r\n","import { getData } from './authService';\r\n\r\nfunction getLikedTracks() {\r\n  return getData('https://api.spotify.com/v1/me/tracks');\r\n}\r\nfunction getRecommendedTracks(seeds) {\r\n  const uri =\r\n    'https://api.spotify.com/v1/recommendations?seed_tracks=' +\r\n    seeds.reduce((p, c, i) => (i === 0 ? c.id : p + ',' + c.id), '');\r\n  return getData(uri);\r\n}\r\n\r\nexport { getLikedTracks, getRecommendedTracks };\r\n","import './App.css';\r\nimport { useState } from 'react';\r\nimport './styles/main.css';\r\n\r\nimport User from './components/User';\r\nimport Playlists from './components/Playlists';\r\n\r\nfunction App() {\r\n  const [loadedData, setLoadedData] = useState([]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {loadedData.some(data => !data) ? <p>Loading...</p> : ''}\r\n      <User setLoadedData={setLoadedData} />\r\n      <Playlists setLoadedData={setLoadedData} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}